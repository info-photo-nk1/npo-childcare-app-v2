# 譲受申し込みフロー

## 概要

レンタル品詳細ページ (`/rental/:id`) に存在する「譲り受けを申し込む」ボタンが押された後の画面遷移フローについて説明します。

## 前提条件

*   ユーザーはログインしていること。
*   該当のレンタル品 (`listingType: 'give'`) が存在すること。

## フロー

1. **レンタル品詳細ページ (`/rental/:id`)**
    *   ユーザーがレンタル品詳細ページを閲覧しています。
    *   ページ内に「譲り受けを申し込む」ボタンが表示されています。

2. **「譲り受けを申し込む」ボタン押下**
    *   ユーザーが「譲り受けを申し込む」ボタンをクリックします。
    *   この後の処理は、現時点では以下の複数の可能性が考えられます。

3. **考えられる処理と遷移先**

    *   **シナリオ 1:  未実装**
        *   ボタンクリックによる具体的な処理はまだ実装されていません。
        *   画面遷移やUIの変化は発生しません。

    *   **シナリオ 2:  内部処理 (同一ページ)**
        *   ボタンクリックにより、内部的な処理が実行されます。
        *   例:
            *   確認ダイアログが表示され、ユーザーに最終確認を求めます。
            *   申し込みが完了した旨のメッセージがページ内に表示されます。
        *   画面遷移は発生せず、同じページ (`/rental/:id`) に留まります。

    *   **シナリオ 3:  申し込み確認ページへ遷移**
        *   ボタンクリックにより、申し込み内容の確認ページ (`/rental/application-confirm/:id`) へ遷移します。
        *   確認ページでは、申し込み内容、ユーザー情報などが表示されます。
        *   ユーザーは内容を確認し、最終的な申し込みを行います。

    *   **シナリオ 4:  申し込み処理API実行と完了ページへ遷移**
        *   ボタンクリックにより、譲受申し込みAPI (`/api/rental-applications`) が実行されます。
        *   API 処理が成功した場合、申し込み完了ページ (`/rental/application-complete`) へ遷移します。
        *   API 処理が失敗した場合、エラーメッセージが表示されるか、同じページに留まります。

## 補足事項

*   実際の挙動は、今後の実装によって決定されます。
*   API エンドポイントや遷移先の URL は、開発状況によって変更される可能性があります。
